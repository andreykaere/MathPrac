\documentclass[10pt]{beamer}

% \usepackage[a4paper, left=0.6in, right=0.6in, top=0.85in, bottom=0.85in]{geometry}
\usepackage[utf8]{inputenc}
\usepackage{textcomp}
\usepackage{fontspec}
\usepackage[russian]{babel}
%\usepackage{polyglossia}
%\setdefaultlanguage[spelling=modern]{russian}
%\setotherlanguage{english}
\setmainfont{CMU Serif}
\setsansfont{CMU Sans Serif}
\setmonofont{CMU Typewriter Text}

\usepackage{amsmath, amssymb, amsthm, mathtools, thmtools, mathdots}

\newcommand\NN{\ensuremath{\mathbb{N}}}
\newcommand\RR{\ensuremath{\mathbb{R}}}
\newcommand\ZZ{\ensuremath{\mathbb{Z}}}
\renewcommand\O{\ensuremath{\varnothing}}
\newcommand\QQ{\ensuremath{\mathbb{Q}}}
\newcommand\CC{\ensuremath{\mathbb{C}}}

\theoremstyle{definition}

\newtheorem{lemmaf}{Лемма}
\newtheorem{theoremf}{Теорема}
\newtheorem{definitionf}{Определение}
\newtheorem{remark}{Замечание}
\newtheorem{statementf}{Утверждение}
\newtheorem{propositionf}{Предложение}

\newtheorem*{lemmaf*}{Лемма}
\newtheorem*{theoremf*}{Теорема}
\newtheorem*{remark*}{Замечание}
\newtheorem*{statementf*}{Утверждение}
\newtheorem*{propositionf*}{Предложение}

\usepackage{enumitem}
\usepackage{mleftright}
\usepackage{environ}
\usepackage{csquotes}

\NewEnviron{pArray}[1]
{
\left(\begin{array}{#1}
\BODY
\end{array}\right)
}
\usetheme{Madrid}
% \title{Необычная задача кубического представления}
% \author{Алексей Кислицын, Всеволод Триль, Андрей Владимиров}

\title{Необычная задача кубического представления}
\author{Алексей Кислицын \hspace{1mm} Андрей Владимиров \hspace{1mm} Всеволод Триль}
\institute{Механико-математический факультет МГУ}
\setbeamertemplate{footline}{}
\setbeamertemplate{footline}[frame number]{}
% \setbeamertemplate{theorems}[numbered]


\begin{document}
    
    \frame{\titlepage}

    \begin{frame}

        \onslide<+->{
        \begin{block}{Постановка задачи}
            Всё началось с, кажущейся на первый взгляд, детской задачки:
            
            \begin{figure}[H]
                \centering
                \includegraphics[width = 6cm]{../images/banana.jpg}
            \end{figure}
        \end{block}
        }

        \onslide<+->{
        \begin{block}{}
            В этом докладе мы предъявим алгоритм решения данной задачи, а также
            постараемся её обобщить и проанализировать.
        \end{block}
        }
    \end{frame}

    \begin{frame}
        \onslide<+->{
        \begin{block}{}
            Переформулируем ей в математических терминах: требуется найти все
            натуральные решения следующего уравнения при \(N = 4\):
            \[
                \frac{x}{y + z}  + \frac{y}{x + z} + \frac{z}{x + y} = N,
                \qquad x, y, z \in \NN
            .\]
            Мы пока не будем придавать значения тому, что \(N = 4\), а сразу
            будем рассматривать постановку задачи для произвольного \(N \in
            \NN\).
        \end{block}
        }

        \onslide<+->{
        \begin{block}{}
            Заметим, что решение исходного уравнения равносильно
            нахождению натуральных точек на кубике, заданной в однородных
            координатах \((x : y : z)\) следующим уравнением: 
            \[
                x^3 + y^3 + z^3 + (1 - N) (x^2 y + y^2 x + x^2 z + z^2 x + y^2 z + z^2 y)
                + (3 - 2 N) x y z = 0
            .\]
        \end{block}
        }
        
        \onslide<+->{
        \begin{block}{}
            Сразу отметим, что так как мы работаем в проективных координатах,
            то это равносильно нахождению точек с рациональными координатами,
            у которых знаки одинаковы.
        \end{block}
        }

        \onslide<+->{
        \begin{block}{}
            Но перед тем, как перейти к решению исходной задачи, рассмотрим более простую
            задачу -- поиск натуральных точек на квадрике 
        \end{block}
        }
    \end{frame}

    \begin{frame}
        здесь будет про квадрику    
    \end{frame}
    

    \begin{frame}
        \onslide<+->{
        \begin{block}{Приведение к нормальной форме Вейерштрасса}
            Перейдём к основной задаче, как и в случае квадрики приведём кубику 
            \[
                x^3 + y^3 + z^3 + (1 - N) (x^2 y + y^2 x + x^2 z + z^2 x + y^2
                z + z^2 y) + (3 - 2 N) x y z = 0
            \] 
            к наиболее простому виду -- нормальной форме Вейерштрасса, которая
             может записывается так:
            \[
            y^2 z = x^3 + a x z^2 + b z^3, \quad a, b \in \CC
            .\]
        \end{block}
        }

        \onslide<+->{
        \begin{block}{}
            В нашем случае, так как коэффициенты кубики целые и проективные
            преобразования будут с целыми коэффициентами, то \(a, b \in \ZZ\).

            Далее, под проективными преобразованиями мы будем
            понимать только целочисленные проективные преобразования.
        \end{block}
        }

        \onslide<+->{
        \begin{block}{}
            Мы предъявим алгоритм приведения кубики к нормальной форме
            Вейерштрасса для произвольной кубики с целыми(рациональными)
            коэффициентами. 
        \end{block}
        }

    \end{frame}


    \begin{frame}
        \onslide<+->{
        \begin{block}{Шаг 0. Нахождение рациональных точек перегиба}
            Итак, пусть у нас есть кубика, заданная уравнением \(F(x, y, z) =
            0\), где 
            \begin{multline*}
            F(x, y, z) = a_{30} x^3 + a_{03} y^3 + a_{00} z^3 + a_{01} y z^2 + a_{10} x z^2 +
            a_{11} x y z + \\ + a_{21} x^2 y +
            a_{12} x y^2 + a_{20} x^2 z + a_{02} y^2 z
            ,\end{multline*}
            то есть \(a_{ij} \in \ZZ\) -- коэффициент при мономе \(x^{i} y^{j} z^{3 - i -
            j}\). 
        \end{block}
        }
    
        \onslide<+->{
        \begin{definitionf}
            Точка \(P_0\) кубики \(F(x^{1}, x^{2}, x^{3}) = 0\) называется
            \textit{точкой перегиба}, если касательная к ней в точке \(P\)
            имеет касание третьего порядка, то есть для любой точки \(Q =
            (x^{1}_q : x^{2}_q : x^{3}_q)\) на касательной выполнено
            \[
            \sum_{i,j = 1}^{3} \frac{\partial^2 F}{\partial x^{i} \partial
            x^{j}} (P_0) \, x^{i}_q x^{j}_q = 0
            .\] 
        \end{definitionf}
        }

    \end{frame}

    \begin{frame}
        \onslide<+->{
        \begin{definitionf}
            \textit{Гессианом} кубики \(F(x^{1}, x^{2}, x^{3}) = 0\) называется кубика
            \[
            H(F) := \det \left( \frac{\partial^2 F}{\partial x^{i} \partial
            x^{j}}\right)_{ij}
            .\] 
        \end{definitionf}
        }

        \onslide<+->{
        \begin{theoremf}
            Точки перегиба неособой кубики в \(\CC \mathrm{P}^2\) -- в точности
            точки пересечения кубики с её Гессианом.
        \end{theoremf}
        }

    \end{frame}

    \begin{frame}
        \onslide<+->{
        \begin{block}{}
            Мы не будем проверять кубику на наличие особенностей, а просто найдём
            все точки пересечения с Гессианом и посмотрим, есть ли там
            особенности. Если среди общих точек есть неособая, то нам эта точка
            подходит и мы можем переходить к следующему шагу. Если все точки
            особые, то алгоритм продолжить нельзя.
        \end{block}
        }

        
        \onslide<+->{
        \begin{block}{}
            Для поиска общих точек рассмотрим результант \(R(F, H(F))\) по
            переменной \(z\). Получим однородный многочлен 9-той степени.
            (дописать уточнение) Находим все его рациональный корни -- пары
            \((x, y)\) и подставляем в \(F\) и в \(H(F)\) для нахождения общей
            точки (или удостоверении, что при данных \((x_0, y_0)\) её нет).
        \end{block}
        }
    \end{frame}

    \begin{frame}
        \onslide<+->{
        \begin{block}{Шаг 1. Избавление от монома \(y^3\)}
            Выберем какую-то рациональную точку перегиба \(P\) и переведём её в точку
            \((0 : 1 : 0)\) некоторым проективным преобразованием. После проективного
            преобразования, наша кубика имеет уравнение \(\widetilde{F}(\widetilde{x},
            \widetilde{y}, \widetilde{z})\), в котором нет \(\widetilde{y}\).
            Таким образом, у нас уйдёт моном \(y^3\).
        \end{block}
        }

        \onslide<+->{
        \begin{block}{}
            Этот шаг реализован в файле \textsf{WeierstrassForm.py} в функции
            \textsf{weierstrass\_form\_step1}.
        \end{block}
        }
    \end{frame}
    
    \begin{frame}
        \onslide<+->{
        \begin{block}{Шаг 2. Избавление от мономов \(y^2 x\) и \(y x^2\)}
            Теперь мы хотим сделать преобразование,
            сохраняющее точку \(O = (0 : 1 : 0)\), так, чтобы
            прямая \(z = 0\) была касательной к кубике \(\widetilde{F}\) в точке
            \(O\), то есть сделать преобразование \((\widetilde{x} :
            \widetilde{y} : \widetilde{z}) \to (x' : y' : z')\), такое что
            для \(F'(x', y', z')\) будет выполнено: 
             \[
            \frac{\partial F'}{\partial x'} (O) = \frac{\partial F'}{\partial y'}
            (O) = 0, \quad \frac{\partial F'}{\partial z'} (O) \ne 0
            .\]
            То есть нет монома \(x y^2\), однако, коэффициент при \(y^2 z\) отличен от
            нуля, и поэтому, разделив на него, можем считать, что он равен \(1\).
            Кроме того, так как \(O\) -- точка перегиба, то касание прямой \(z = 0\) с
            нашей кубикой имеет порядок 3, таким образом нет монома \(x^2 y\). 
        \end{block}
        }

        \onslide<+->{
        \begin{block}{}
            Этот шаг реализован в файле \textsf{WeierstrassForm.py} в функции
            \textsf{weierstrass\_form\_step2}.
        \end{block}
        }
    \end{frame}
    
    \begin{frame}
        \onslide<+->{
        \begin{block}{Шаг 3. Выделение \(y^2 z\) и избавление от \(x^2 z\)}
            После второго преобразования, уравнение нашей кубики стало \(F'(x', y',
            z') = 0\), где 
            \begin{multline*}
            F'(x', y', z') = a_{30}' \left( x' \right)^3 + a_{20}' \left( x' \right)^2
            z' + a_{11}' x' y' z' + \left( y' \right)^2 z' + \\
            + a_{10}' x' \left(
            z' \right)^2 + a_{01}' y' \left( z' \right)^2 + a_{00}' \left( z'
            \right)^3
            .\end{multline*}
        \end{block}
        }

        \onslide<+->{
        \begin{block}{}
            Делая замену \(y'' =  y' + (a_{01}' z' + a_{11}'
            x')/2\), выделяем полный квадрат по \(y'\) и уравнение кубики
            становится:
            \[
            \left( y'' \right)^2 z' = a_{30}'' \left( x' \right)^3 + a_{20}'' \left( x' \right)^2
            z' + a_{10}'' x' \left( z' \right)^2 + a_{00}'' \left( z' \right)^3
            .\] 
        \end{block}
        }

        \onslide<+->{
        \begin{block}{}
            Теперь линейной заменой \(x'' = x' - \dfrac{a_{20}''}{3 a_{30}''}
            z'\) избавляемся от монома \(\left( x' \right)^2 z'\) и получаем:
            \[
            \left( y'' \right)^2 z' = a_{30}''' \left( x'' \right)^3 + a_{10}''' x''
            \left( z' \right)^2 + a_{00}''' \left( z' \right)^3
            .\] 
        \end{block}
        }

    \end{frame}

    \begin{frame}
        \onslide<+->{
        \begin{block}{}
            Далее, делаем замену \(z'' = \dfrac{1}{a_{30}'''} z'\) и получаем:
            \[
            \left( y'' \right)^2 z'' = \left( x'' \right)^3 + a_{30}''' a_{10}''' x''
            \left( z'' \right)^2 + a_{00}''' \left( a_{30}''' \right)^2 \left( z'' \right)^3
            .\] 
            Обозначая \(a := a_{30}''' a_{10}''', b := a_{00}''' \left( a_{30}'''
            \right)^2\), получаем требуемую форму: 
            \[
            \left( y'' \right)^2 z'' = \left( x'' \right)^3 + a x''
            \left( z'' \right)^2 + b \left( z'' \right)^3
            .\] 
        \end{block}
        }
    \end{frame}

    \begin{frame}
		\onslide<+->{
        \begin{block}{}
            Опишем рациональные точки на кубике в форме Вейерштрасса.
            Пусть нам известно несколько точек, можно ли по ним как в
            случае квадрики получить ещё?
        \end{block}
        }

		\onslide<+->{
        \begin{block}{Сложение точек}
            
            
        \end{block}
        }

		\onslide<+->{
        \begin{figure}[H]

        \includegraphics[width = 10cm]{../images/add2.png}
        \end{figure}
        }

		\onslide<+->{
        \begin{definitionf}
            Суммой точек \(P\) и \(Q\) назовём точку пересечения прямой \(PQ\) с
            кубикой, отражённую относительно оси \(x\) и будем обозначать \(P +
            Q\).
        \end{definitionf}
        }
	\end{frame}

	\begin{frame}
		\onslide<+->{
        \begin{theoremf}
            Множество рациональных точек кубики \(E\mathbb(Q)\) в нормальной
            форме Вейерштрасса образуют абелеву группу. 
        \end{theoremf}
        }
    
        \onslide<+->{
        \begin{theoremf}[Морде]
            Группа \(E\mathbb(Q)\) конечно порождена.
        \end{theoremf}
        }
		
        \onslide<+->{
        \begin{block}{}
            Это даёт надежду на полное описание рациональных точек на кубике.
            Ведь есть явные формулы для сложения точек в нормальной форме.
        \end{block}
		}
	\end{frame}


	\begin{frame}
		\onslide<+->{
		\begin{block}{Явные формулы для $P + Q$}
			Пусть \(P = (x_{p}, y_{p}), Q = (x_{q}, y_{q}), R =
			(x_{r}, y_{r})\), где \(R = P + Q\) и \(P \neq Q\). Тогда мы имеем:
			\[
			\begin{aligned}
				x_r &= m^2 - x_p - x_q \\
				y_r &= y_p + m(x_r - x_p) \\
			\end{aligned} \qquad \] 
			где \(m = (y_{p} - y_{q}) / (x_{p} - x_{q})\).
			\newline
		\end{block}
        }
	
		\onslide<+->{
		\begin{block}{}
			Таким образом зная хотя бы одну точку \(P \notin \mathrm{Tor} \,
            (E\mathbb(Q))\), можно явно найти бесконечно точек вида \(P, 2P,
            ... nP\).
		\end{block}
		}
	\end{frame}

	\begin{frame}
		\onslide<+->{
 		тут слайд с картинками 
		
		
		}
	
	\end{frame}
	



\end{document}
